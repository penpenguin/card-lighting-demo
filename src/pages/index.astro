<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Card Lighting Demo</title>
		<style>
			:root {
				--rx: 0deg;
				--ry: 0deg;
				--mx: 50%;
				--my: 50%;
				--posx: 50%;
				--posy: 50%;
				--tx: 0px;
				--ty: 0px;
				--s: 1;
				--hyp: 0.5;
				--light-strength: 1;
				color-scheme: dark;
			}

			*,
			*::before,
			*::after {
				box-sizing: border-box;
			}

			body {
				margin: 0;
				min-height: 100vh;
				display: grid;
				place-items: center;
				font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
				padding: clamp(16px, 4vw, 40px);
				overflow: hidden;
				background: radial-gradient(circle at 30% 20%, rgba(120, 130, 160, 0.18), transparent 26%),
					radial-gradient(circle at 80% 70%, rgba(40, 50, 70, 0.35), transparent 38%),
					#06070c;
				color: #e9ecf2;
			}

			.sr-only {
				position: absolute;
				width: 1px;
				height: 1px;
				padding: 0;
				margin: -1px;
				overflow: hidden;
				clip: rect(0, 0, 0, 0);
				white-space: nowrap;
				border: 0;
			}

			.stage {
				position: relative;
				width: min(1100px, 96vw);
				height: min(720px, 86vh);
				display: grid;
				place-items: center;
				perspective: 1100px;
				isolation: isolate;
				overflow: hidden;
			}

			.stage::before {
				content: "";
				position: absolute;
				inset: 0;
				background:
					radial-gradient(circle at var(--mx) var(--my), rgba(120, 140, 200, 0.24), transparent 42%),
					radial-gradient(120% 120% at 50% 50%, rgba(0, 0, 0, 0.35), transparent 68%);
				filter: blur(14px) brightness(calc(0.6 + 0.6 * var(--light-strength)));
				z-index: 0;
			}

			.stage::after {
				content: "";
				position: absolute;
				inset: -18%;
				background:
					radial-gradient(60% 55% at 50% 45%, rgba(255, 240, 220, 0.08), transparent 70%),
					radial-gradient(55% 50% at 50% 60%, rgba(120, 170, 255, 0.06), transparent 72%);
				filter: blur(22px);
				opacity: 0.85;
				pointer-events: none;
				z-index: 0;
			}

			.card {
				position: relative;
				width: 360px;
				height: 220px;
				--card-radius: 18px;
				border-radius: var(--card-radius);
				--chip-center-x: 17.6%;
				--chip-center-y: 44.3%;
				--pan-center-x: 11.9%;
				--pan-center-y: 60.7%;
				--pan-shine-bg:
					var(--chip-shine-bg,
						linear-gradient(120deg, rgba(255, 230, 190, 0.75), rgba(140, 210, 255, 0.7), rgba(255, 170, 230, 0.7))
					),
					linear-gradient(120deg, rgba(255, 210, 170, 0.35), rgba(120, 200, 255, 0.35), rgba(255, 160, 220, 0.35));
				--rim-glow-color-1: rgba(255, 255, 255, 0.95);
				--rim-glow-color-2: rgba(160, 210, 255, 0.7);
				--rim-glow-color-3: rgba(255, 255, 255, 0);
				--rim-glow-opacity: 0.24;
				background: #0a0a0a;
				box-shadow:
					0 32px 80px rgba(0, 0, 0, 0.72),
					0 12px 26px rgba(0, 0, 0, 0.55),
					0 3px 8px rgba(0, 0, 0, 0.38);
				transform: translateZ(16px);
				transition: box-shadow 260ms ease, transform 200ms ease;
				overflow: visible;
				z-index: 1;
			}

			.card:hover {
				box-shadow:
					0 40px 86px rgba(0, 0, 0, 0.78),
					0 16px 34px rgba(0, 0, 0, 0.62),
					0 4px 10px rgba(0, 0, 0, 0.42);
			}

			.card__translater {
				position: absolute;
				inset: 0;
				transform: translate3d(var(--tx), var(--ty), 0) scale(var(--s));
				transition: transform 120ms ease;
			}

			.card__rotator {
				position: absolute;
				inset: 0;
				border-radius: var(--card-radius);
				transform: rotateY(var(--ry)) rotateX(var(--rx));
			}

			.layer {
				position: absolute;
				inset: 0;
				border-radius: inherit;
				pointer-events: none;
			}

			.layer-shadow {
				background: radial-gradient(90% 120% at 50% 80%, rgba(0, 0, 0, 0.55), transparent 70%);
				filter: blur(10px);
				transform: translateZ(1px);
			}

			.layer-base {
				background: #0a0a0a;
				transform: translateZ(2px);
			}

			.layer-rim {
				inset: 0;
				border-radius: var(--card-radius);
				background: radial-gradient(90% 90% at var(--mx) var(--my),
					var(--rim-glow-color-1) 0%,
					var(--rim-glow-color-2) 32%,
					var(--rim-glow-color-3) 58%
				);
				padding: 1px;
				-webkit-mask:
					linear-gradient(#000 0 0) content-box,
					linear-gradient(#000 0 0);
				-webkit-mask-composite: xor;
				mask:
					linear-gradient(#000 0 0) content-box,
					linear-gradient(#000 0 0);
				mask-composite: exclude;
				box-shadow: none;
				mix-blend-mode: screen;
				opacity: calc(var(--rim-glow-opacity, 0.24) + 0.6 * var(--hyp));
				filter: none;
				transform: translateZ(11px);
			}

			/* --- rare holo --- */
			.card[data-rarity="rare holo"] {
				--chip-shine-bg:
					repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.22), rgba(255, 255, 255, 0.04) 6px, rgba(0, 0, 0, 0) 7px 16px),
					linear-gradient(120deg, rgba(255, 130, 220, 0.35), rgba(140, 200, 255, 0.45), rgba(255, 240, 170, 0.4)),
					radial-gradient(120px 90px at var(--mx) var(--my), rgba(255, 255, 255, 0.65), rgba(255, 255, 255, 0) 70%);
				--chip-shine-blend: soft-light, soft-light, screen;
				--chip-shine-filter: brightness(calc((var(--hyp) + 0.7) * 0.6)) contrast(2.2);
				--chip-shine-size: 220% 220%;
				--rim-glow-color-1: rgba(255, 244, 210, 0.96);
				--rim-glow-color-2: rgba(130, 200, 255, 0.75);
				--rim-glow-opacity: 0.26;
			}




			/* --- rare holo galaxy --- */
			.card[data-rarity="rare holo galaxy"] {
				--chip-shine-bg:
					radial-gradient(120px 90px at calc(50% - (var(--mx) - 50%) * 2.2) calc(50% - (var(--my) - 50%) * 2.2), rgba(80, 140, 255, 0.4), transparent 70%),
					radial-gradient(120px 90px at var(--mx) var(--my), rgba(255, 255, 255, 0.4), transparent 70%),
					repeating-radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.9) 0 1px, transparent 1px 5px);
				--chip-shine-blend: color-dodge, screen, saturation;
				--chip-shine-filter: brightness(calc(0.5 + var(--hyp) * 0.35)) saturate(1.3);
				--chip-shine-size: 200% 200%;
				--rim-glow-color-1: rgba(210, 240, 255, 0.96);
				--rim-glow-color-2: rgba(90, 170, 255, 0.7);
				--rim-glow-opacity: 0.28;
			}





			/* --- rare holo v --- */
			.card[data-rarity*="rare holo v"] {
				--chip-shine-bg:
					linear-gradient(90deg, rgba(255, 180, 255, 0.32), rgba(120, 220, 255, 0.34), rgba(255, 210, 150, 0.35)),
					repeating-linear-gradient(-60deg, rgba(0, 0, 0, 0.12) 0 8px, rgba(255, 255, 255, 0.05) 8px 12px),
					radial-gradient(120px 90px at var(--mx) var(--my), rgba(255, 255, 255, 0.3), rgba(0, 0, 0, 0));
				--chip-shine-blend: screen, hard-light, overlay;
				--chip-shine-filter: brightness(calc(0.55 + var(--hyp) * 0.4)) saturate(1.1);
				--chip-shine-size: 210% 210%;
				--rim-glow-color-1: rgba(245, 220, 255, 0.95);
				--rim-glow-color-2: rgba(110, 210, 255, 0.7);
				--rim-glow-opacity: 0.26;
			}



			/* --- rare holo vmax --- */
			.card[data-rarity="rare holo vmax"] {
				--chip-shine-bg:
					linear-gradient(135deg, rgba(255, 120, 200, 0.35), rgba(120, 220, 255, 0.35), rgba(240, 200, 255, 0.3)),
					repeating-linear-gradient(60deg, rgba(255, 255, 255, 0.1) 0 6px, rgba(0, 0, 0, 0) 6px 14px),
					radial-gradient(140px 110px at var(--mx) var(--my), rgba(255, 255, 255, 0.32), transparent 75%);
				--chip-shine-blend: color-burn, screen, soft-light;
				--chip-shine-filter: brightness(calc((var(--hyp) * 0.3) + 0.5));
				--chip-shine-size: 220% 220%;
				--rim-glow-color-1: rgba(255, 210, 250, 0.97);
				--rim-glow-color-2: rgba(120, 230, 255, 0.75);
				--rim-glow-opacity: 0.3;
			}


			/* --- rare holo vstar --- */
			.card[data-rarity="rare holo vstar"][data-supertype="pokemon"] {
				--chip-shine-bg:
					linear-gradient(120deg, rgba(255, 240, 210, 0.38), rgba(150, 210, 255, 0.34), rgba(255, 180, 220, 0.32)),
					repeating-linear-gradient(-45deg, rgba(0, 0, 0, 0.12) 0 10px, rgba(255, 255, 255, 0.04) 10px 18px),
					radial-gradient(140px 110px at var(--mx) var(--my), rgba(255, 255, 255, 0.26), transparent 72%);
				--chip-shine-blend: soft-light, hue, hard-light;
				--chip-shine-filter: brightness(calc(0.6 + var(--hyp) * 0.35));
				--chip-shine-size: 210% 210%;
				--rim-glow-color-1: rgba(255, 240, 210, 0.97);
				--rim-glow-color-2: rgba(150, 210, 255, 0.68);
				--rim-glow-opacity: 0.28;
			}



			/* --- rare ultra (pokémon) --- */
			.card[data-rarity="rare ultra"][data-supertype="pokemon"] {
				--chip-shine-bg:
					linear-gradient(110deg, rgba(255, 210, 140, 0.35), rgba(120, 200, 255, 0.4), rgba(255, 120, 200, 0.32)),
					repeating-linear-gradient(-60deg, rgba(0, 0, 0, 0.14) 0 9px, rgba(255, 255, 255, 0.06) 9px 16px),
					radial-gradient(140px 110px at var(--mx) var(--my), rgba(255, 255, 255, 0.25), transparent 74%);
				--chip-shine-blend: exclusion, hue, hard-light;
				--chip-shine-filter: brightness(calc(0.5 + var(--hyp) * 0.4));
				--chip-shine-size: 210% 210%;
				--rim-glow-color-1: rgba(255, 220, 170, 0.95);
				--rim-glow-color-2: rgba(150, 200, 255, 0.62);
				--rim-glow-opacity: 0.27;
			}



			/* --- rare ultra supporter --- */
			.card[data-rarity="rare ultra"][data-subtypes*="supporter"] {
				--chip-shine-bg:
					linear-gradient(115deg, rgba(255, 210, 140, 0.28), rgba(120, 200, 255, 0.38), rgba(255, 120, 200, 0.28)),
					repeating-linear-gradient(-60deg, rgba(255, 255, 255, 0.08) 0 8px, rgba(0, 0, 0, 0.08) 8px 16px),
					radial-gradient(140px 110px at var(--mx) var(--my), rgba(255, 255, 255, 0.25), transparent 74%);
				--chip-shine-blend: difference, hue, hard-light;
				--chip-shine-filter: brightness(calc(0.55 + var(--hyp) * 0.35));
				--chip-shine-size: 210% 210%;
				--rim-glow-color-1: rgba(240, 220, 200, 0.92);
				--rim-glow-color-2: rgba(140, 210, 255, 0.68);
				--rim-glow-opacity: 0.27;
			}



			/* --- rare rainbow --- */
			.card[data-rarity^="rare rainbow"] {
				--chip-shine-bg:
					linear-gradient(55deg, rgba(255, 180, 255, 0.35), rgba(120, 220, 255, 0.35), rgba(255, 230, 160, 0.34)),
					repeating-linear-gradient(45deg, rgba(255, 255, 255, 0.08) 0 6px, rgba(0, 0, 0, 0) 6px 14px),
					radial-gradient(140px 110px at var(--mx) calc(var(--my) * 1.5), rgba(255, 255, 255, 0.22), transparent 78%);
				--chip-shine-blend: color-burn, soft-light, screen;
				--chip-shine-filter: brightness(calc(0.6 + var(--hyp) * 0.4));
				--chip-shine-size: 220% 220%;
				--rim-glow-color-1: rgba(255, 220, 255, 0.96);
				--rim-glow-color-2: rgba(140, 220, 255, 0.72);
				--rim-glow-opacity: 0.3;
			}




			/* --- rare secret --- */
			.card[data-rarity="rare secret"] {
				--chip-shine-bg:
					linear-gradient(140deg, rgba(255, 210, 140, 0.32), rgba(200, 160, 80, 0.4), rgba(255, 230, 160, 0.32)),
					repeating-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 0 6px, rgba(255, 255, 255, 0.08) 6px 12px),
					radial-gradient(140px 110px at var(--mx) var(--my), rgba(255, 255, 255, 0.24), transparent 76%);
				--chip-shine-blend: color-burn, darken, screen;
				--chip-shine-filter: brightness(calc(0.6 + var(--hyp) * 0.45));
				--chip-shine-size: 220% 220%;
				--rim-glow-color-1: rgba(255, 220, 170, 0.95);
				--rim-glow-color-2: rgba(200, 160, 80, 0.7);
				--rim-glow-opacity: 0.28;
			}



			/* --- radiant --- */
			.card[data-rarity*="radiant"] {
				--chip-shine-bg:
					linear-gradient(55deg, rgba(255, 180, 240, 0.5), rgba(120, 220, 255, 0.5), rgba(255, 230, 160, 0.45)),
					repeating-linear-gradient(45deg, rgba(255, 255, 255, 0.12) 0 6px, rgba(0, 0, 0, 0) 6px 12px),
					repeating-linear-gradient(-45deg, rgba(0, 0, 0, 0.12) 0 8px, rgba(255, 255, 255, 0.06) 8px 16px);
				--chip-shine-blend: color-dodge, color-dodge, screen;
				--chip-shine-filter: contrast(3) saturate(1.2);
				--chip-shine-size: 240% 240%;
				--rim-glow-color-1: rgba(255, 230, 210, 0.98);
				--rim-glow-color-2: rgba(255, 150, 230, 0.78);
				--rim-glow-opacity: 0.3;
			}




			/* --- トレーナーギャラリー --- */
			.card[data-rarity="rare holo"][data-gallery="true"] {
				--chip-shine-bg:
					linear-gradient(115deg, rgba(255, 220, 255, 0.75), rgba(140, 200, 255, 0.65), rgba(255, 210, 160, 0.6)),
					repeating-linear-gradient(45deg, rgba(255, 255, 255, 0.08) 0 10px, rgba(0, 0, 0, 0) 10px 18px),
					radial-gradient(140px 110px at var(--mx) var(--my), rgba(255, 255, 255, 0.35), transparent 70%);
				--chip-shine-blend: color-dodge, screen, screen;
				--chip-shine-filter: brightness(calc(0.6 + var(--hyp) * 0.45));
				--chip-shine-size: 210% 210%;
				--rim-glow-color-1: rgba(255, 230, 255, 0.97);
				--rim-glow-color-2: rgba(140, 200, 255, 0.75);
				--rim-glow-opacity: 0.29;
			}



			/* --- トレーナーギャラリーV --- */
			.card[data-rarity="rare holo v"][data-gallery="true"] {
				--chip-shine-bg:
					repeating-linear-gradient(-45deg, rgba(0, 0, 0, 0.12) 0 8px, rgba(255, 255, 255, 0.05) 8px 16px),
					radial-gradient(160px 120px at var(--mx) var(--my), rgba(255, 255, 255, 0.24), transparent 72%),
					linear-gradient(130deg, rgba(255, 140, 220, 0.32), rgba(120, 220, 255, 0.28));
				--chip-shine-blend: hue, hard-light, exclusion;
				--chip-shine-filter: brightness(calc(0.55 + var(--hyp) * 0.5));
				--chip-shine-size: 200% 200%;
				--rim-glow-color-1: rgba(240, 210, 255, 0.96);
				--rim-glow-color-2: rgba(130, 220, 255, 0.72);
				--rim-glow-opacity: 0.28;
			}




			.content {
				position: relative;
				height: 100%;
				padding: 18px 18px 16px;
				display: grid;
				grid-template-rows: auto 1fr auto;
				gap: 10px;
				color: #e8ebf5;
				text-shadow: 0 1px 1px rgba(0, 0, 0, 0.55);
			}

			.header {
				display: grid;
				grid-template-columns: auto 1fr;
				align-items: center;
				gap: 12px;
			}

			.logo {
				font-size: 18px;
				font-weight: 800;
				letter-spacing: 0.14em;
				text-transform: uppercase;
				background: linear-gradient(90deg, #f7e7b4, #d2b06f, #f7e7b4);
				-webkit-background-clip: text;
				color: transparent;
				text-shadow: 0 1px 0 rgba(0, 0, 0, 0.38), 0 -1px 0 rgba(255, 255, 255, 0.08);
			}

			.chip {
				width: 46px;
				height: 34px;
				border-radius: 8px;
				background: linear-gradient(135deg, #f2d58a 0%, #b8872f 45%, #f7e3a8 100%);
				border: 1px solid rgba(255, 232, 176, 0.6);
				box-shadow:
					inset 0 2px 3px rgba(255, 255, 255, 0.4),
					inset 0 -3px 6px rgba(70, 40, 0, 0.45),
					0 2px 4px rgba(0, 0, 0, 0.45);
				position: absolute;
				left: var(--chip-center-x);
				top: var(--chip-center-y);
				transform: translate(-50%, -50%);
				overflow: hidden;
				isolation: isolate;
			}

			.chip__shine {
				position: absolute;
				inset: -18%;
				border-radius: inherit;
				background:
					var(--chip-shine-bg,
						radial-gradient(120% 120% at var(--mx) var(--my), rgba(255, 255, 255, 0.45), transparent 62%),
						conic-gradient(from 200deg at 50% 50%, rgba(255, 220, 150, 0.35), rgba(120, 200, 255, 0.32), rgba(255, 150, 220, 0.3), rgba(255, 220, 150, 0.35)),
						repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.12) 0 1px, transparent 1px 4px)
					);
				background-blend-mode: var(--chip-shine-blend, screen), soft-light, normal;
				background-position: var(--chip-shine-pos, var(--posx) var(--posy));
				background-size: var(--chip-shine-size, 180% 180%);
				opacity: 0.78;
				filter: blur(0.2px) saturate(1.2) var(--chip-shine-filter, brightness(1));
				pointer-events: none;
				z-index: 1;
			}

			.chip::before,
			.chip::after {
				content: "";
				position: absolute;
				border-radius: 4px;
				z-index: 2;
			}

			.chip::before {
				inset: 6px 7px;
				background:
					linear-gradient(135deg, rgba(255, 255, 255, 0.35), rgba(0, 0, 0, 0.28)),
					repeating-linear-gradient(90deg, rgba(70, 45, 10, 0.4) 0 2px, transparent 2px 6px);
				box-shadow: inset 0 0 0 1px rgba(60, 40, 10, 0.45);
			}

			.chip::after {
				inset: 11px 14px;
				border-radius: 3px;
				background:
					linear-gradient(120deg, rgba(255, 255, 255, 0.28), rgba(0, 0, 0, 0.3)),
					repeating-linear-gradient(0deg, rgba(60, 40, 10, 0.45) 0 1px, transparent 1px 5px);
				box-shadow: inset 0 0 0 1px rgba(60, 40, 10, 0.4);
				opacity: 0.9;
			}

			.number { color: transparent; -webkit-text-fill-color: transparent; text-shadow: none; }

			.number {
				position: absolute;
				left: var(--pan-center-x);
				top: var(--pan-center-y);
				transform: translate(-0.5ch, -50%);
				display: inline-flex;
				gap: 18px;
				font-size: 20px;
				letter-spacing: 0.18em;
				font-weight: 800;
				padding: 0;
				margin: 0;
				background: none;
				box-shadow: none;
				font-variant-numeric: tabular-nums;
				line-height: 1;
			}

			.number span { position: relative; display: inline-block; color: transparent; -webkit-text-fill-color: transparent; }

			.number span::after {
				content: attr(data-digit);
				position: absolute;
				inset: 0;
				color: transparent;
				background: var(--pan-shine-bg);
				background-blend-mode: var(--chip-shine-blend, screen), soft-light;
				background-position: var(--posx) var(--posy);
				background-size: 180% 180%;
				-webkit-background-clip: text;
				background-clip: text;
				-webkit-text-fill-color: transparent;
				mix-blend-mode: normal;
				opacity: calc(0.6 + 0.2 * var(--hyp));
				filter: brightness(calc(0.95 + var(--hyp) * 0.1)) saturate(1.8);
				pointer-events: none;
			}

			.footer {
				display: grid;
				grid-template-columns: 1fr auto auto;
				align-items: center;
				gap: 14px;
				font-size: 12px;
				letter-spacing: 0.08em;
				grid-row: 3;
			}

			.holder {
				text-transform: uppercase;
				font-weight: 700;
			}

			.expiry {
				text-align: right;
			}

			@media (prefers-reduced-motion: reduce) {
				.card {
					transition: none;
					transform: none;
				}
			}

			.pane-host {
				position: fixed;
				top: 16px;
				right: 16px;
				width: 280px;
				z-index: 10;
			}

			@media (max-width: 640px) {
				.pane-host {
					position: static;
					width: min(92vw, 320px);
					margin: 12px auto 0;
				}
			}
		</style>
	</head>
	<body>
		<h1 class="sr-only">Card Lighting Demo</h1>
		<div id="pane-host" class="pane-host" aria-hidden="true"></div>
		<main class="stage">
			<div
				class="card"
				id="card"
				data-rarity="rare holo"
				data-supertype="pokemon"
				data-subtypes="basic"
				data-gallery="false"
			>
				<div class="card__translater">
					<div class="card__rotator">
						<div class="layer layer-shadow"></div>
						<div class="layer layer-base"></div>
						<div class="chip" aria-hidden="true">
							<span class="chip__shine" aria-hidden="true"></span>
						</div>
						<div class="number" aria-label="Card number">
							<span data-digit="5248">5248</span>
							<span data-digit="1903">1903</span>
							<span data-digit="7741">7741</span>
							<span data-digit="0826">0826</span>
						</div>
						<div class="content">
							<div class="header">
								<div class="logo">Card Lighting</div>
							</div>
							<div class="footer">
								<div class="holder">ALEXANDER NOVA</div>
								<div class="expiry">
									<span class="expiry__label">VALID</span><br />
									<span class="expiry__value">12/28</span>
								</div>
							</div>
						</div>
						<div class="layer layer-rim"></div>
					</div>
				</div>
			</div>
		</main>

			<script type="module" src="/src/scripts/card-lighting.ts"></script>
		</body>
	</html>
